\newpage
\section*{Результаты} 

Результатом работы стало программное обеспечение, написанное на языке программирования C, работающее на операционных системах Linux и Windows. Основные возможности программы:

1. Загружать модель из файла (Wavefront OBJ geometry format, .obj) и отображать ее в трехмерном пространстве с использованием технологии OpenGL.

2. Возможность ставить источник излучения в любую точку пространства.

3. Проводить расчеты первичных и вторично-освещенных граней как на GPU (с использованием технологии CUDA), так и на CPU.

4. Сохранять проведенные расчеты в файл (.obj). Дополнительная информация хранится в комментариях особого вида, что, фактически, не повреждает сам файл.

5. Проводить расчет сферы освещения.

6. Возможность делать проекции сферы освещения с сохранением в файл картинки (Bitmap picture, .bmp).

\subsection*{Диффузное и зеркальное}

Как мы уже упомянули, в программе есть возможность задавать функцию ДФО вручную. Рассмотрим работу программы на простом примере: один треугольный полигон (красный) и один точечный источник излучения (желтая сфера). 

Общее расположение элементов сцены:

\includegraphics[width=1\linewidth]{common-lambert-zerkalo-screen.png}

Скриншоты программы для диффузного рассеивания по Ламберту (слева) и зеркального отражения (справа):

\includegraphics[width=0.499\linewidth]{lambert-screen.png}
\includegraphics[width=0.499\linewidth]{zerkalo-screen.png}

Проекции сферы излучения (слева -- диффузное, справа -- зеркальное):

\includegraphics[width=0.499\linewidth]{lambert-map.png}
\includegraphics[width=0.499\linewidth]{zerkalo-map.png}

Таким образом, у нас есть возможность достаточно гибко моделировать различные материалы. 

\subsection*{Первичные и вторичные}

Рассмотрим одно положение объектов и сравним разницу между картинами в первом случае создаваемой только первично-освещенными областями и во втором -- совокупностью первичных и вторичных групп полигонов. 

Первично-освещенные области слева, вторичные -- справа:

\includegraphics[width=0.499\linewidth]{first-screen-1.png}
\includegraphics[width=0.499\linewidth]{second-screen-1.png}

Областью $A$ обозначено отражение от верхней антенной части корабля. Область $B$ -- пространство, излучение на карте проекций которого изменилось. 

\includegraphics[width=0.51\linewidth]{first-screen-2.png}
\includegraphics[width=0.445\linewidth]{second-screen-2.png}

Проекции сферы излучения (слева -- только первичные, справа первичные и вторичные области):

\includegraphics[width=0.499\linewidth]{first-map.png}
\includegraphics[width=0.499\linewidth]{second-map.png}

По картам заметно, левая нижняя область сферы (область $B$) стала светлее. Таким образом, в этой области существенный вклад вносит вторичное отражение. 

Таким образом, можно анализировать проекции сферы и выявлять области, в которых

1. излучение изменяется под влиянием вторичных зон (либо присутствует только переотраженный сигнал, либо присутствуют оба сигнала, но значения второго оказываются существенными),

2. излучение не подвергается изменениям (значение вторичного сигнала не существенно).

\subsection*{Сравнение производительности}

Проведем сравнение производительностей по моделированию поставленных нами задач. Помимо параллельной версии программы, запускаемой на графическом ускорителе, была написана последовательная версия программы, запускаемая на центральном процессоре.  

Характеристики центрального процессора (CPU): модель Intel Core i5 2430M, четыре ядра с тактовой частотой 2400 MHz. 

Несмотря на то, что процессор многоядерный, программа была написана последовательно, то есть во время исполнении занято было только одно ядро.

Характеристики графического ускорителя (GPU): чипсет Nvidia GeForse GT 540M (Compute Capability 2.1).

Сравнение проводилось на пяти разной степени детализированности моделях космического корабля. Задача на GPU запускалась на сетке 65535 блоков x 512 нитей. Подробности распределения вычислений между блоками и нитями, а также особенности использования типов памяти графического ускорителя рассматривались в разделе \textbf{Реализация} этой работы.

\begin{center}
\includegraphics[width=0.492\linewidth]{soyz-detalisation-low.png}
\includegraphics[width=0.4987\linewidth]{soyz-detalisation-full.png}
\end{center}

\begin{center}
Расчет первичных зон отражения
\begin{tabular}{cccccc}
\textbf{время, сек/полигонов}& \textbf{7391}& \textbf{12466}& \textbf{58503}& \textbf{109215}	&\textbf{152027} 	\\
CPU 						& 13.01				& 55.11				& 1159.20			& 3954.45					& 7332.93			\\
GPU 						& 1.06				& 3.65				& 70.91				& 210.12						& 361.64				\\
ускорение 				& 12.26				& 15.07				& 16.35				& 18.81						& 20.28				\\
\end{tabular}
\end{center}

Таким образом, видно, что чем крупнее задача, тем сильнее получаем ускорение. 



